<!-- templates/profile.html -->
{% extends 'base.html' %}

{% block content %}
{% if user %}
<div class="card text-center">
    <div class="card-body">
        <h2 class="card-title">Your Profile</h2>
        <img src="{{ url_for('static', filename=user.profile_pic or 'profile.png') }}" 
             class="rounded-circle mb-3" 
             style="width: 100px; height: 100px;" 
             alt="Profile Picture">
        <h4>{{ user.username }}</h4>
        <p class="text-muted">{{ user.email }}</p>
        <form method="POST" enctype="multipart/form-data" class="mt-3">
            <div class="form-group">
                <input type="file" name="profile_pic" accept="image/*" class="form-control-file">
            </div>
            <button type="submit" class="btn btn-primary">Upload New Picture</button>
        </form>
        <a href="{{ url_for('dashboard') }}" class="btn btn-secondary mt-3">Back to Dashboard</a>
    </div>
</div>
{% else %}
<p class="text-danger">User not found. Please log in again.</p>
{% endif %}
{% endblock %}
